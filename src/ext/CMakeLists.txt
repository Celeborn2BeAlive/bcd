
ADD_SUBDIRECTORY(eigen)

SET(BUILD_SHARED_LIBS OFF)

ADD_SUBDIRECTORY(openexr/ilmbase-2.2.0)

TARGET_INCLUDE_DIRECTORIES(Half INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/openexr/ilmbase-2.2.0/Half)
TARGET_INCLUDE_DIRECTORIES(IlmThread INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/openexr/ilmbase-2.2.0/IlmThread)
TARGET_INCLUDE_DIRECTORIES(IlmThread INTERFACE ${CMAKE_CURRENT_BINARY_DIR}/openexr/ilmbase-2.2.0/config)
TARGET_INCLUDE_DIRECTORIES(Imath INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/openexr/ilmbase-2.2.0/Imath)
TARGET_INCLUDE_DIRECTORIES(Iex INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/openexr/ilmbase-2.2.0/Iex)
#SET_TARGET_PROPERTIES ( Iex PROPERTIES OUTPUT_NAME "Iex-2_2" )
ADD_LIBRARY(Iex-2_2 ALIAS Iex)
ADD_LIBRARY(IlmThread-2_2 ALIAS IlmThread)
ADD_LIBRARY(Imath-2_2 ALIAS Imath)

ADD_SUBDIRECTORY(openexr/openexr-2.2.0)

TARGET_INCLUDE_DIRECTORIES(dwaLookups PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/openexr/ilmbase-2.2.0/Imath)
TARGET_INCLUDE_DIRECTORIES(IlmImf INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/openexr/openexr-2.2.0/IlmImf)
TARGET_INCLUDE_DIRECTORIES(IlmImf INTERFACE ${CMAKE_CURRENT_BINARY_DIR}/openexr/openexr-2.2.0/config)

ADD_LIBRARY(OpenExr INTERFACE)
TARGET_LINK_LIBRARIES(OpenExr INTERFACE Half Iex Imath IlmImf IlmThread)
